# tooldocs Tiered Disclosure
# Progressive detail levels

direction: right

vars: {
  d2-config: {
    layout-engine: elk
    theme-id: 0
  }
  discovery-fill: "#3182ce"
  summary-fill: "#38a169"
  schema-fill: "#d69e2e"
  full-fill: "#805ad5"
}

classes: {
  input-node: {
    style: {
      fill: ${discovery-fill}
      stroke: "#2c5282"
      stroke-width: 2
      font-color: "#fff"
    }
  }
  summary-node: {
    style: {
      fill: ${summary-fill}
      stroke: "#276749"
      stroke-width: 2
      font-color: "#fff"
    }
  }
  schema-node: {
    style: {
      fill: ${schema-fill}
      stroke: "#b7791f"
      stroke-width: 2
      font-color: "#fff"
    }
  }
  full-node: {
    style: {
      fill: ${full-fill}
      stroke: "#6b46c1"
      stroke-width: 2
      font-color: "#fff"
    }
  }
  tier-flow: {
    style: {
      stroke: "#4a5568"
      stroke-width: 2
    }
  }
  detail-flow: {
    style: {
      stroke: "#718096"
      stroke-width: 2
      stroke-dash: 3
    }
  }
}

# Title
title: "tooldocs - Tiered Disclosure" {
  shape: text
  near: top-center
  style: {
    font-size: 24
    bold: true
    font-color: "#1a365d"
  }
}

# Entry Point
describe: "ðŸ“š DescribeTool\nDetail Level" {
  shape: hexagon
  class: input-node
}

# Tiers
summary: "ðŸ“‹ Summary\n~50 tokens\nID + Name + Description" {
  shape: document
  class: summary-node
}

schema: "ðŸ“ Schema\n~200 tokens\n+ InputSchema + OutputSchema" {
  shape: document
  class: schema-node
}

full: "ðŸ“– Full\n~500+ tokens\n+ Docs + Usage" {
  shape: document
  class: full-node
}

examples: "ðŸ’¡ Examples\nUsage Patterns" {
  shape: page
  class: full-node
}

# Flow
describe -> summary: "tier=summary" {
  class: tier-flow
}
describe -> schema: "tier=schema" {
  class: tier-flow
}
describe -> full: "tier=full" {
  class: tier-flow
}
full -> examples: "includes" {
  class: detail-flow
}
